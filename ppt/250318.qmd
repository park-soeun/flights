---
title: "."
title-slide-attributes:
    data-background-image: "logo.PNG"
    data-background-size: cover
format:
  revealjs:
    theme: simple  # ê¸°ë³¸ í…Œë§ˆ(ì›í•˜ëŠ” í…Œë§ˆ ë³€ê²½ ê°€ëŠ¥)
    css: styles.css
    slide-number: true  # í˜ì´ì§€ ë²ˆí˜¸ í‘œì‹œ
    footer: "Team 6 | LS BigData School | 2025"  # í‘¸í„° ì„¤ì •
    logo: "logo3.png"  # ë¡œê³  ì‚½ì…
---

## ë¶„ì„ ì£¼ì œ

- ë³¸ ë¶„ì„ì—ì„œëŠ” **flights**ì™€ **planes** ë°ì´í„°ë¥¼ ë³‘í•©í•˜ì—¬ íŠ¹ì • ë³€ìˆ˜ ê°„ì˜ ê´€ê³„ë¥¼ ë¶„ì„í•©ë‹ˆë‹¤.

---

### **1. ì‚¬ìš© ë°ì´í„°**

| ë°ì´í„°ì…‹       | ì„¤ëª…                                       |
|---------------|-------------------------------------------|
| `flights.csv`  | í•­ê³µí¸ ì •ë³´ (ì¶œë°œì§€, ë„ì°©ì§€, ì§€ì—° ì‹œê°„ ë“±) |
| `planes.csv`   | í•­ê³µê¸° ì •ë³´ (ì œì¡° ì—°ë„, ëª¨ë¸ ë“±)           |
| `airlines.csv` | í•­ê³µì‚¬ ì½”ë“œ ë° í•­ê³µì‚¬ëª… ì •ë³´               |

---

```{python}
#| echo: false
from nycflights13 import flights, planes, airlines
import pandas as pd
import numpy as np
import seaborn as sns
import matplotlib.pyplot as plt

plane_df = planes.rename(columns={'year': 'manuf_year'})
df = pd.merge(flights, plane_df, on='tailnum')
```

### **2. ë°ì´í„° ì „ì²˜ë¦¬**

#####  ë‚ ì§œ ì²˜ë¦¬ (`datetime` ë³€í™˜)
```{python}
df['datetime'] = pd.to_datetime(df[['year', 'month', 'day', 'hour', 'minute']])
```


```{python}
#| echo: false
#| eval: true
df['datetime'].info()

```


---

##### ë¬¸ìì—´ ì²˜ë¦¬ (í•­ê³µì‚¬ ì½”ë“œ -\> ì´ë¦„ ë§¤í•‘)
```{python}
#| echo: true
#| eval: true
df = df.merge(airlines, on="carrier", how="left")   
print(df.info())

```

---

# **3. ë¶„ì„**
 **ì´ 3ê°œì˜ ë¶„ì„ì„ ì§„í–‰í•©ë‹ˆë‹¤.**

- **3.1 í•­ê³µì‚¬ë³„ ì¶œë°œ ë° ë„ì°© ì§€ì—° ì‹œê°„ ë¶„ì„**
- **3.2 ì œì‘ ì—°ë„ë³„ ê¸°ì²´ ì„±ëŠ¥ ë¶„ì„**
- **3.3 íŠ¹ì • ë…¸ì„ ì˜ ì§€ì—° ì‹œê°„ ë¶„ì„**

---

### **3.1 í•­ê³µì‚¬ë³„ ì¶œë°œ ë° ë„ì°© ì§€ì—° ì‹œê°„ ë¶„ì„** âœˆï¸

#####  **ë¶„ì„ ëª©ì **
- í•­ê³µì‚¬ë³„ ì¶œë°œ(`dep_delay`) ë° ë„ì°© ì§€ì—°(`arr_delay`) ì‹œê°„ì˜ ê´€ê³„ ë¶„ì„  
- ì¶œë°œì´ ëŠ¦ìœ¼ë©´ ë„ì°©ë„ ëŠ¦ì„ê¹Œ?  

#####  **ë°ì´í„° ì‹œê°í™”**
```{python}
delay_stats_by_carrier = flights.groupby('carrier')[['dep_delay', 'arr_delay']].mean().reset_index()
delay_stats_by_carrier = delay_stats_by_carrier.merge(airlines, on='carrier', how='left')

plt.figure(figsize=(10,6))
sns.scatterplot(data=delay_stats_by_carrier, x='dep_delay', y='arr_delay', hue='name', s=100)
plt.axline((0, 0), slope=1, linestyle="--", color="gray")  
plt.xlabel("Average Departure Delay (minutes)")
plt.ylabel("Average Arrival Delay (minutes)")
plt.title("Departure vs Arrival Delay by Airline")
plt.legend(title="Airline", bbox_to_anchor=(1.05, 1), loc='upper left')
plt.grid(True)
plt.show()
```

---

## **3.2 ì œì‘ ì—°ë„ë³„ ê¸°ì²´ ì„±ëŠ¥ ë¶„ì„** ğŸ›©ï¸

#####  **ë¶„ì„ ëª©ì **
- í•­ê³µê¸° ì œì‘ ì—°ë„(`manuf_year`)ì— ë”°ë¼ ì§€ì—° ì‹œê°„ ì°¨ì´ê°€ ìˆì„ê¹Œ?  
- ì˜¤ë˜ëœ ê¸°ì²´ì¼ìˆ˜ë¡ ì§€ì—°ì´ ë§ì„ê¹Œ?

#####  **ë°ì´í„° ì‹œê°í™”**
```{python}
delay_by_age = df.groupby('manuf_year')[['dep_delay', 'arr_delay']].mean().reset_index()

plt.figure(figsize=(10,6))
sns.lineplot(data=delay_by_age, x='manuf_year', y='dep_delay', label="Departure Delay")
sns.lineplot(data=delay_by_age, x='manuf_year', y='arr_delay', label="Arrival Delay")
plt.xlabel("Manufacture Year")
plt.ylabel("Average Delay (minutes)")
plt.title("Aircraft Age vs Delay Time")
plt.legend()
plt.grid(True)
plt.show()
```

---

### **3.3 íŠ¹ì • ë…¸ì„ ì˜ ì§€ì—° ì‹œê°„ ë¶„ì„** ğŸŒ

#####  **ë¶„ì„ ëª©ì **
- íŠ¹ì • ë…¸ì„ (ì˜ˆ: JFK â†’ LAX)ì˜ ì¶œë°œ ë° ë„ì°© ì§€ì—° ì‹œê°„ì´ íŠ¹ë³„í•œ íŒ¨í„´ì„ ë³´ì¼ê¹Œ?  
- íŠ¹ì • ì‹œê°„ëŒ€ì— ì§€ì—°ì´ ì§‘ì¤‘ë˜ëŠ”ê°€?

#####  **ë°ì´í„° ì‹œê°í™”**
```{python}
jfk_lax_flights = df[df['dest'] == 'LAX']

plt.figure(figsize=(10,6))
sns.boxplot(data=jfk_lax_flights, x='hour', y='dep_delay')
plt.xlabel("Departure Hour")
plt.ylabel("Departure Delay (minutes)")
plt.title("JFK â†’ LAX: Departure Delay by Time of Day")
plt.grid(True)
plt.show()
```

---

###  **ê²°ë¡ **
1ï¸âƒ£ í•­ê³µì‚¬ë³„ë¡œ **ì¶œë°œ ì§€ì—°ê³¼ ë„ì°© ì§€ì—°ì˜ ìƒê´€ê´€ê³„ê°€ ë‹¤ë¦„**  
2ï¸âƒ£ ì˜¤ë˜ëœ ê¸°ì²´ì¼ìˆ˜ë¡ **ì¶œë°œ ë° ë„ì°© ì§€ì—° ì‹œê°„ì´ ì¦ê°€í•˜ëŠ” ê²½í–¥**  
3ï¸âƒ£ íŠ¹ì • ë…¸ì„ ì—ì„œëŠ” **ì¶œë°œ ì‹œê°„ëŒ€ì— ë”°ë¼ ì§€ì—° íŒ¨í„´ì´ ë‹¤ë¦„**  

---